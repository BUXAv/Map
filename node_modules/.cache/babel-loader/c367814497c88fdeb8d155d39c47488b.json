{"ast":null,"code":"var textContain = require(\"zrender/lib/contain/text\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\n\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  }); // 压\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  } // 弹\n\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // 右侧\n    ? Number.MAX_VALUE // 下\n    : 0 // 上\n    : isDownList // 左侧\n    ? Number.MAX_VALUE // 下\n    : 0; // 上\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      // Not change x for center label\n      if (list[i].position === 'center') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // 右下，左下\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // 右上，左上\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var linePoints = labelLayoutList[i].linePoints;\n\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n\n    var font = labelModel.getFont();\n    var labelRotate = labelModel.get('rotate') ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\n\nmodule.exports = _default;","map":{"version":3,"names":["textContain","require","adjustSingleSide","list","cx","cy","r","dir","viewWidth","viewHeight","sort","a","b","y","shiftDown","start","end","delta","j","height","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","i","l","length","position","deltaY","Math","abs","len","length2","len2","deltaX","sqrt","x","lastY","upList","downList","push","avoidOverlap","labelLayoutList","leftList","rightList","linePoints","dist","_default","seriesModel","data","getData","hasLabelRotate","each","idx","layout","getItemLayout","itemModel","getItemModel","labelModel","getModel","labelPosition","get","labelLineModel","labelLineLen","labelLineLen2","midAngle","startAngle","endAngle","dx","cos","dy","sin","textX","textY","textAlign","isLabelInside","x1","r0","y1","x2","y2","x3","y3","font","getFont","labelRotate","PI","text","getFormattedLabel","getName","textRect","getBoundingRect","label","verticalAlign","rotation","inside","module","exports"],"sources":["C:/Users/W/Desktop/vue_map/node_modules/echarts/lib/chart/pie/labelLayout.js"],"sourcesContent":["var textContain = require(\"zrender/lib/contain/text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  }); // 压\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  } // 弹\n\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // 右侧\n    ? Number.MAX_VALUE // 下\n    : 0 // 上\n    : isDownList // 左侧\n    ? Number.MAX_VALUE // 下\n    : 0; // 上\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      // Not change x for center label\n      if (list[i].position === 'center') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // 右下，左下\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // 右上，左上\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight) {\n  var leftList = [];\n  var rightList = [];\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (labelLayoutList[i].x < cx) {\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var linePoints = labelLayoutList[i].linePoints;\n\n    if (linePoints) {\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (labelLayoutList[i].x < cx) {\n        linePoints[2][0] = labelLayoutList[i].x + 3;\n      } else {\n        linePoints[2][0] = labelLayoutList[i].x - 3;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = labelLayoutList[i].y;\n      linePoints[1][0] = linePoints[2][0] + dist;\n    }\n  }\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    var labelLineLen2 = labelLineModel.get('length2');\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n        textX = x3 + (dx < 0 ? -5 : 5);\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : dx > 0 ? 'left' : 'right';\n    }\n\n    var font = labelModel.getFont();\n    var labelRotate = labelModel.get('rotate') ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight);\n  }\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}