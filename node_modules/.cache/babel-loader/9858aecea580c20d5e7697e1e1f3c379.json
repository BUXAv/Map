{"ast":null,"code":"var polygonContain = require(\"zrender/lib/contain/polygon\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Key of the first level is brushType: `line`, `rect`, `polygon`.\n// Key of the second level is chart element type: `point`, `rect`.\n// See moudule:echarts/component/helper/BrushController\n// function param:\n//      {Object} itemLayout fetch from data.getItemLayout(dataIndex)\n//      {Object} selectors {point: selector, rect: selector, ...}\n//      {Object} area {range: [[], [], ..], boudingRect}\n// function return:\n//      {boolean} Whether in the given brush.\n\n\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || lineIntersectPolygon(x, y, x + width, y, points) || lineIntersectPolygon(x, y, x, y + height, points) || lineIntersectPolygon(x + width, y, x + width, y + height, points) || lineIntersectPolygon(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\n\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\n\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\n\nfunction lineIntersectPolygon(lx, ly, l2x, l2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineIntersect(lx, ly, l2x, l2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n} // Code from <http://blog.csdn.net/rickliuxiao/article/details/6259322> with some fix.\n// See <https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection>\n\n\nfunction lineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  var delta = determinant(a2x - a1x, b1x - b2x, a2y - a1y, b1y - b2y);\n\n  if (nearZero(delta)) {\n    // parallel\n    return false;\n  }\n\n  var namenda = determinant(b1x - a1x, b1x - b2x, b1y - a1y, b1y - b2y) / delta;\n\n  if (namenda < 0 || namenda > 1) {\n    return false;\n  }\n\n  var miu = determinant(a2x - a1x, b1x - a1x, a2y - a1y, b1y - a1y) / delta;\n\n  if (miu < 0 || miu > 1) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\n\nfunction determinant(v1, v2, v3, v4) {\n  return v1 * v4 - v2 * v3;\n}\n\nvar _default = selector;\nmodule.exports = _default;","map":{"version":3,"names":["polygonContain","require","BoundingRect","selector","lineX","getLineSelectors","lineY","rect","point","itemLayout","selectors","area","boundingRect","contain","intersect","polygon","range","points","length","x","y","width","height","p","create","lineIntersectPolygon","xyIndex","xy","wh","inLineRange","layoutRange","reverse","lx","ly","l2x","l2y","i","p2","lineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","delta","determinant","nearZero","namenda","miu","val","v1","v2","v3","v4","_default","module","exports"],"sources":["C:/Users/W/Desktop/vue_map/node_modules/echarts/lib/component/brush/selector.js"],"sourcesContent":["var polygonContain = require(\"zrender/lib/contain/polygon\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Key of the first level is brushType: `line`, `rect`, `polygon`.\n// Key of the second level is chart element type: `point`, `rect`.\n// See moudule:echarts/component/helper/BrushController\n// function param:\n//      {Object} itemLayout fetch from data.getItemLayout(dataIndex)\n//      {Object} selectors {point: selector, rect: selector, ...}\n//      {Object} area {range: [[], [], ..], boudingRect}\n// function return:\n//      {boolean} Whether in the given brush.\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || lineIntersectPolygon(x, y, x + width, y, points) || lineIntersectPolygon(x, y, x, y + height, points) || lineIntersectPolygon(x + width, y, x + width, y + height, points) || lineIntersectPolygon(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\n\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\n\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\n\nfunction lineIntersectPolygon(lx, ly, l2x, l2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineIntersect(lx, ly, l2x, l2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n} // Code from <http://blog.csdn.net/rickliuxiao/article/details/6259322> with some fix.\n// See <https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection>\n\n\nfunction lineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  var delta = determinant(a2x - a1x, b1x - b2x, a2y - a1y, b1y - b2y);\n\n  if (nearZero(delta)) {\n    // parallel\n    return false;\n  }\n\n  var namenda = determinant(b1x - a1x, b1x - b2x, b1y - a1y, b1y - b2y) / delta;\n\n  if (namenda < 0 || namenda > 1) {\n    return false;\n  }\n\n  var miu = determinant(a2x - a1x, b1x - a1x, a2y - a1y, b1y - a1y) / delta;\n\n  if (miu < 0 || miu > 1) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\n\nfunction determinant(v1, v2, v3, v4) {\n  return v1 * v4 - v2 * v3;\n}\n\nvar _default = selector;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}