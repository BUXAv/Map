{"ast":null,"code":"import echart from 'echarts';\nimport 'echarts/map/js/china';\nimport jsonp from 'jsonp';\nconst mapOption = {\n  title: {\n    text: '中国疫情动态地图',\n    x: 'center',\n    textStyle: {\n      color: '#DC143C'\n    }\n  },\n  series: [{\n    type: 'map',\n    map: 'china',\n    data: [],\n    label: {\n      show: true,\n      color: 'black',\n      fontSize: 10\n    },\n    zoom: 1.2,\n    itemStyle: {\n      borderColor: 'white'\n    },\n    emphasis: {\n      label: {\n        show: true,\n        color: '#ADFF2F',\n        fontSize: 12\n      },\n      itemStyle: {\n        areaColor: 'yellow'\n      }\n    }\n  }],\n  tooltip: {\n    trigger: 'item',\n    formatter: '地区：{b}<br/>确诊：{c}'\n  },\n  visualMap: {\n    type: 'piecewise',\n    pieces: [{\n      min: 10000\n    }, {\n      min: 1000,\n      max: 9999\n    }, {\n      min: 100,\n      max: 999\n    }, {\n      min: 10,\n      max: 99\n    }, {\n      min: 1,\n      max: 9\n    }, {\n      value: 0\n    }],\n    inRange: {\n      color: ['#fff', \"#ffaa85\", \"#660208\"]\n    },\n    itemWidth: 20,\n    itemHeight: 15\n  }\n};\nexport default {\n  name: \"Map\",\n\n  data() {\n    return {\n      E: ''\n    };\n  },\n\n  mounted() {\n    this.getData();\n    this.E = echart.init(document.getElementById());\n    this.E.setOption(mapOption);\n  },\n\n  methods: {\n    getData() {\n      jsonp('http://interface.sina.cn/news/wap/fymap2020_data.d.json?_=1580892522427', (err, data) => {\n        var lists = data.data.list.map(item => {\n          return {\n            name: item.name,\n            value: item.value\n          };\n        });\n        console.log(lists);\n        mapOption.series[0].data = lists;\n        this.E.setOption(mapOption);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAKA;AACA;AACA;AACA;EACAA;IACAC,gBADA;IAEAC,WAFA;IAGAC;MACAC;IADA;EAHA,CADA;EAQAC,SACA;IACAC,WADA;IAEAC,YAFA;IAGAC,QAHA;IAIAC;MACAC,UADA;MAEAN,cAFA;MAGAO;IAHA,CAJA;IASAC,SATA;IAUAC;MACAC;IADA,CAVA;IAaAC;MACAN;QACAC,UADA;QAEAN,gBAFA;QAGAO;MAHA,CADA;MAMAE;QACAG;MADA;IANA;EAbA,CADA,CARA;EAkCAC;IACAC,eADA;IAEAC;EAFA,CAlCA;EAsCAC;IACAd,iBADA;IAEAe,SACA;MAAAC;IAAA,CADA,EAEA;MAAAA;MAAAC;IAAA,CAFA,EAGA;MAAAD;MAAAC;IAAA,CAHA,EAIA;MAAAD;MAAAC;IAAA,CAJA,EAKA;MAAAD;MAAAC;IAAA,CALA,EAMA;MAAAC;IAAA,CANA,CAFA;IAUAC;MACArB;IADA,CAVA;IAaAsB,aAbA;IAcAC;EAdA;AAtCA;AAuDA;EACAC,WADA;;EAEApB;IACA;MACAqB;IADA;EAGA,CANA;;EAOAC;IACA;IACA;IACA;EACA,CAXA;;EAYAC;IACAC;MACAC;QACA;UACA;YACAL,eADA;YAEAJ;UAFA;QAIA,CALA;QAMAU;QACAC;QAGA;MAGA,CAdA;IAeA;;EAjBA;AAZA","names":["title","text","x","textStyle","color","series","type","map","data","label","show","fontSize","zoom","itemStyle","borderColor","emphasis","areaColor","tooltip","trigger","formatter","visualMap","pieces","min","max","value","inRange","itemWidth","itemHeight","name","E","mounted","methods","getData","jsonp","console","mapOption"],"sourceRoot":"src/components","sources":["map.vue"],"sourcesContent":["<template>\r\n  <div id=\"echarts\" style=\"width:100%;height=400px\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echart from 'echarts'\r\nimport 'echarts/map/js/china'\r\nimport jsonp from 'jsonp'\r\nconst mapOption={\r\n    title:{\r\n        text:'中国疫情动态地图',\r\n        x:'center',\r\n        textStyle:{\r\n            color:'#DC143C'\r\n        }\r\n    },\r\n    series:[\r\n        {\r\n            type:'map',\r\n            map:'china',\r\n            data:[],\r\n            label:{\r\n                show:true,\r\n                color:'black',\r\n                fontSize:10\r\n            },\r\n            zoom:1.2,\r\n            itemStyle:{\r\n                borderColor:'white'\r\n            },\r\n            emphasis:{\r\n                label:{\r\n                    show:true,\r\n                    color:'#ADFF2F',\r\n                    fontSize:12\r\n                },\r\n                itemStyle:{\r\n                    areaColor:'yellow'\r\n                }\r\n            }\r\n        }\r\n    ],\r\n    tooltip:{\r\n        trigger:'item',\r\n        formatter:'地区：{b}<br/>确诊：{c}'\r\n    },\r\n    visualMap:{\r\n        type:'piecewise',\r\n        pieces:[\r\n            {min:10000},\r\n            {min:1000,max:9999},\r\n            {min:100,max:999},\r\n            {min:10,max:99},\r\n            {min:1,max:9},\r\n            {value:0}\r\n        ],\r\n        inRange:{\r\n            color:['#fff',\"#ffaa85\",\"#660208\"]\r\n        },\r\n        itemWidth:20,\r\n        itemHeight:15\r\n    }\r\n}\r\nexport default {\r\n    name:\"Map\",\r\n    data(){\r\n        return({\r\n           E:''\r\n        })\r\n    },\r\n    mounted(){\r\n        this.getData()\r\n        this.E=echart.init(document.getElementById());\r\n        this.E.setOption(mapOption);\r\n    },\r\n    methods:{\r\n        getData(){\r\n            jsonp('http://interface.sina.cn/news/wap/fymap2020_data.d.json?_=1580892522427',(err,data)=>{\r\n                var lists = data.data.list.map(item=>{\r\n                    return{\r\n                        name:item.name,\r\n                        value:item.value\r\n                    }\r\n                })\r\n                console.log(lists)\r\n                mapOption.series[0].data=lists\r\n               \r\n                \r\n                this.E.setOption(mapOption);\r\n            \r\n                \r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}