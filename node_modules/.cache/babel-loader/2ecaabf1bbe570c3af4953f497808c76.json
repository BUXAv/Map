{"ast":null,"code":"var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar _layoutHelper = require(\"./layoutHelper\");\n\nvar radialCoordinate = _layoutHelper.radialCoordinate;\n\nvar echarts = require(\"../../echarts\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file  This file used to draw tree view\n */\n\n\nvar _default = echarts.extendChartView({\n  type: 'tree',\n\n  /**\n   * Init the chart\n   * @override\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup = new graphic.Group();\n    this.group.add(this._mainGroup);\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.attr('position', [layoutInfo.x + layoutInfo.width / 2, layoutInfo.y + layoutInfo.height / 2]);\n    } else {\n      group.attr('position', [layoutInfo.x, layoutInfo.y]);\n    }\n\n    var oldData = this._data;\n    var seriesScope = {\n      expandAndCollapse: seriesModel.get('expandAndCollapse'),\n      layout: layout,\n      orient: seriesModel.getOrient(),\n      curvature: seriesModel.get('lineStyle.curveness'),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      useNameLabel: true,\n      fadeIn: true\n    };\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // create node and edge\n        updateNode(data, newIdx, null, group, seriesModel, seriesScope);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(oldData, oldIdx, symbolEl, group, seriesModel, seriesScope);\n        return;\n      } // update  node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // When remove a collapsed node of subtree, since the collapsed\n      // node haven't been initialized with a symbol element,\n      // you can't found it's symbol element through index.\n      // so if we want to remove the symbol element we should insure\n      // that the symbol element is not null.\n\n      if (symbolEl) {\n        removeNode(oldData, oldIdx, symbolEl, group, seriesModel, seriesScope);\n      }\n    }).execute();\n\n    if (seriesScope.expandAndCollapse === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  remove: function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  }\n});\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y) && data.getItemVisual(dataIndex, 'symbol') !== 'none';\n}\n\nfunction getTreeNodeStyle(node, itemModel, seriesScope) {\n  seriesScope.itemModel = itemModel;\n  seriesScope.itemStyle = itemModel.getModel('itemStyle').getItemStyle();\n  seriesScope.hoverItemStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  seriesScope.lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n  seriesScope.labelModel = itemModel.getModel('label');\n  seriesScope.hoverLabelModel = itemModel.getModel('emphasis.label');\n\n  if (node.isExpand === false && node.children.length !== 0) {\n    seriesScope.symbolInnerColor = seriesScope.itemStyle.fill;\n  } else {\n    seriesScope.symbolInnerColor = '#fff';\n  }\n\n  return seriesScope;\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.position[0],\n    y: sourceSymbolEl.position[1],\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, seriesScope);\n    symbolEl.attr('position', [sourceOldLayout.x, sourceOldLayout.y]);\n  } else {\n    symbolEl.updateData(data, dataIndex, seriesScope);\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  graphic.updateProps(symbolEl, {\n    position: [targetLayout.x, targetLayout.y]\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesScope.layout === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length = realRoot.children.length;\n    var rad;\n    var isLeft;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {};\n      center.x = (realRoot.children[0].getLayout().x + realRoot.children[length - 1].getLayout().x) / 2;\n      center.y = (realRoot.children[0].getLayout().y + realRoot.children[length - 1].getLayout().y) / 2;\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setStyle({\n      textPosition: textPosition,\n      textRotation: -rad,\n      textOrigin: 'center',\n      verticalAlign: 'middle'\n    });\n  }\n\n  if (node.parentNode && node.parentNode !== virtualRoot) {\n    var edge = symbolEl.__edge;\n\n    if (!edge) {\n      edge = symbolEl.__edge = new graphic.BezierCurve({\n        shape: getEdgeShape(seriesScope, sourceOldLayout, sourceOldLayout),\n        style: zrUtil.defaults({\n          opacity: 0\n        }, seriesScope.lineStyle)\n      });\n    }\n\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, targetLayout),\n      style: {\n        opacity: 1\n      }\n    }, seriesModel);\n    group.add(edge);\n  }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  }\n\n  graphic.updateProps(symbolEl, {\n    position: [sourceLayout.x + 1, sourceLayout.y + 1]\n  }, seriesModel, function () {\n    group.remove(symbolEl);\n    data.setItemGraphicEl(dataIndex, null);\n  });\n  symbolEl.fadeOut(null, {\n    keepLabel: true\n  });\n  var edge = symbolEl.__edge;\n\n  if (edge) {\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, sourceLayout),\n      style: {\n        opacity: 0\n      }\n    }, seriesModel, function () {\n      group.remove(edge);\n    });\n  }\n}\n\nfunction getEdgeShape(seriesScope, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var orient = seriesScope.orient;\n\n  if (seriesScope.layout === 'radial') {\n    var x1 = sourceLayout.rawX;\n    var y1 = sourceLayout.rawY;\n    var x2 = targetLayout.rawX;\n    var y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * seriesScope.curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * seriesScope.curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x,\n      y1: radialCoor1.y,\n      x2: radialCoor4.x,\n      y2: radialCoor4.y,\n      cpx1: radialCoor2.x,\n      cpy1: radialCoor2.y,\n      cpx2: radialCoor3.x,\n      cpy2: radialCoor3.y\n    };\n  } else {\n    var x1 = sourceLayout.x;\n    var y1 = sourceLayout.y;\n    var x2 = targetLayout.x;\n    var y2 = targetLayout.y;\n\n    if (orient === 'LR' || orient === 'RL') {\n      cpx1 = x1 + (x2 - x1) * seriesScope.curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * seriesScope.curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'TB' || orient === 'BT') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * seriesScope.curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * seriesScope.curvature;\n    }\n\n    return {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      cpx1: cpx1,\n      cpy1: cpy1,\n      cpx2: cpx2,\n      cpy2: cpy2\n    };\n  }\n}\n\nmodule.exports = _default;","map":{"version":3,"names":["zrUtil","require","graphic","SymbolClz","_layoutHelper","radialCoordinate","echarts","_default","extendChartView","type","init","ecModel","api","_oldTree","_mainGroup","Group","group","add","render","seriesModel","payload","data","getData","layoutInfo","layout","get","attr","x","width","y","height","oldData","_data","seriesScope","expandAndCollapse","orient","getOrient","curvature","symbolRotate","symbolOffset","hoverAnimation","useNameLabel","fadeIn","diff","newIdx","symbolNeedsDraw","updateNode","update","oldIdx","symbolEl","getItemGraphicEl","removeNode","remove","execute","eachItemGraphicEl","el","dataIndex","off","on","dispatchAction","seriesId","id","dispose","removeAll","getItemLayout","isNaN","getItemVisual","getTreeNodeStyle","node","itemModel","itemStyle","getModel","getItemStyle","hoverItemStyle","lineStyle","getLineStyle","labelModel","hoverLabelModel","isExpand","children","length","symbolInnerColor","fill","isInit","tree","getNodeByDataIndex","virtualRoot","root","source","parentNode","sourceSymbolEl","sourceLayout","getLayout","sourceOldLayout","position","rawX","__radialOldRawX","rawY","__radialOldRawY","targetLayout","updateData","__radialRawX","__radialRawY","setItemGraphicEl","updateProps","symbolPath","getSymbolPath","realRoot","rootLayout","rad","isLeft","center","Math","atan2","PI","textPosition","setStyle","textRotation","textOrigin","verticalAlign","edge","__edge","BezierCurve","shape","getEdgeShape","style","defaults","opacity","fadeOut","keepLabel","cpx1","cpy1","cpx2","cpy2","x1","y1","x2","y2","radialCoor1","radialCoor2","radialCoor3","radialCoor4","module","exports"],"sources":["C:/Users/W/Desktop/vue_map/node_modules/echarts/lib/chart/tree/TreeView.js"],"sourcesContent":["var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar _layoutHelper = require(\"./layoutHelper\");\n\nvar radialCoordinate = _layoutHelper.radialCoordinate;\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @file  This file used to draw tree view\n */\nvar _default = echarts.extendChartView({\n  type: 'tree',\n\n  /**\n   * Init the chart\n   * @override\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup = new graphic.Group();\n    this.group.add(this._mainGroup);\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.attr('position', [layoutInfo.x + layoutInfo.width / 2, layoutInfo.y + layoutInfo.height / 2]);\n    } else {\n      group.attr('position', [layoutInfo.x, layoutInfo.y]);\n    }\n\n    var oldData = this._data;\n    var seriesScope = {\n      expandAndCollapse: seriesModel.get('expandAndCollapse'),\n      layout: layout,\n      orient: seriesModel.getOrient(),\n      curvature: seriesModel.get('lineStyle.curveness'),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      useNameLabel: true,\n      fadeIn: true\n    };\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // create node and edge\n        updateNode(data, newIdx, null, group, seriesModel, seriesScope);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(oldData, oldIdx, symbolEl, group, seriesModel, seriesScope);\n        return;\n      } // update  node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // When remove a collapsed node of subtree, since the collapsed\n      // node haven't been initialized with a symbol element,\n      // you can't found it's symbol element through index.\n      // so if we want to remove the symbol element we should insure\n      // that the symbol element is not null.\n\n      if (symbolEl) {\n        removeNode(oldData, oldIdx, symbolEl, group, seriesModel, seriesScope);\n      }\n    }).execute();\n\n    if (seriesScope.expandAndCollapse === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  remove: function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  }\n});\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y) && data.getItemVisual(dataIndex, 'symbol') !== 'none';\n}\n\nfunction getTreeNodeStyle(node, itemModel, seriesScope) {\n  seriesScope.itemModel = itemModel;\n  seriesScope.itemStyle = itemModel.getModel('itemStyle').getItemStyle();\n  seriesScope.hoverItemStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  seriesScope.lineStyle = itemModel.getModel('lineStyle').getLineStyle();\n  seriesScope.labelModel = itemModel.getModel('label');\n  seriesScope.hoverLabelModel = itemModel.getModel('emphasis.label');\n\n  if (node.isExpand === false && node.children.length !== 0) {\n    seriesScope.symbolInnerColor = seriesScope.itemStyle.fill;\n  } else {\n    seriesScope.symbolInnerColor = '#fff';\n  }\n\n  return seriesScope;\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.position[0],\n    y: sourceSymbolEl.position[1],\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, seriesScope);\n    symbolEl.attr('position', [sourceOldLayout.x, sourceOldLayout.y]);\n  } else {\n    symbolEl.updateData(data, dataIndex, seriesScope);\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  graphic.updateProps(symbolEl, {\n    position: [targetLayout.x, targetLayout.y]\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesScope.layout === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length = realRoot.children.length;\n    var rad;\n    var isLeft;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {};\n      center.x = (realRoot.children[0].getLayout().x + realRoot.children[length - 1].getLayout().x) / 2;\n      center.y = (realRoot.children[0].getLayout().y + realRoot.children[length - 1].getLayout().y) / 2;\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setStyle({\n      textPosition: textPosition,\n      textRotation: -rad,\n      textOrigin: 'center',\n      verticalAlign: 'middle'\n    });\n  }\n\n  if (node.parentNode && node.parentNode !== virtualRoot) {\n    var edge = symbolEl.__edge;\n\n    if (!edge) {\n      edge = symbolEl.__edge = new graphic.BezierCurve({\n        shape: getEdgeShape(seriesScope, sourceOldLayout, sourceOldLayout),\n        style: zrUtil.defaults({\n          opacity: 0\n        }, seriesScope.lineStyle)\n      });\n    }\n\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, targetLayout),\n      style: {\n        opacity: 1\n      }\n    }, seriesModel);\n    group.add(edge);\n  }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  }\n\n  graphic.updateProps(symbolEl, {\n    position: [sourceLayout.x + 1, sourceLayout.y + 1]\n  }, seriesModel, function () {\n    group.remove(symbolEl);\n    data.setItemGraphicEl(dataIndex, null);\n  });\n  symbolEl.fadeOut(null, {\n    keepLabel: true\n  });\n  var edge = symbolEl.__edge;\n\n  if (edge) {\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, sourceLayout),\n      style: {\n        opacity: 0\n      }\n    }, seriesModel, function () {\n      group.remove(edge);\n    });\n  }\n}\n\nfunction getEdgeShape(seriesScope, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var orient = seriesScope.orient;\n\n  if (seriesScope.layout === 'radial') {\n    var x1 = sourceLayout.rawX;\n    var y1 = sourceLayout.rawY;\n    var x2 = targetLayout.rawX;\n    var y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * seriesScope.curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * seriesScope.curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x,\n      y1: radialCoor1.y,\n      x2: radialCoor4.x,\n      y2: radialCoor4.y,\n      cpx1: radialCoor2.x,\n      cpy1: radialCoor2.y,\n      cpx2: radialCoor3.x,\n      cpy2: radialCoor3.y\n    };\n  } else {\n    var x1 = sourceLayout.x;\n    var y1 = sourceLayout.y;\n    var x2 = targetLayout.x;\n    var y2 = targetLayout.y;\n\n    if (orient === 'LR' || orient === 'RL') {\n      cpx1 = x1 + (x2 - x1) * seriesScope.curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * seriesScope.curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'TB' || orient === 'BT') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * seriesScope.curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * seriesScope.curvature;\n    }\n\n    return {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      cpx1: cpx1,\n      cpy1: cpy1,\n      cpx2: cpx2,\n      cpy2: cpy2\n    };\n  }\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}