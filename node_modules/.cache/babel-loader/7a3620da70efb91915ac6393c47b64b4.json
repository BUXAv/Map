{"ast":null,"code":"var matrix = require(\"../core/matrix\");\n\nvar vector = require(\"../core/vector\");\n/**\n * 提供变换扩展\n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\n\n\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function (opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * 平移\n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * 旋转\n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * 缩放\n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * 旋转和缩放的原点\n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * 判断是否需要有坐标变换\n * 如果有坐标变换, 则从position, rotation, scale以及父节点的transform计算出自身的transform矩阵\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // 应用父节点变换\n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // 保存这个变换矩阵\n\n\n  this.transform = m;\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * 将自己的transform应用到context上\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\n/**\n * 分解`transform`矩阵到`position`, `rotation`, `scale`\n */\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function () {\n  var m = this.transform;\n\n  if (!m) {\n    return [1, 1];\n  }\n\n  var sx = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  var sy = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  return [sx, sy];\n};\n/**\n * 变换坐标位置到 shape 的局部坐标空间\n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * 变换局部坐标位置到全局坐标空间\n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;","map":{"version":3,"names":["matrix","require","vector","mIdentity","identity","EPSILON","isNotAroundZero","val","Transformable","opts","position","rotation","scale","origin","transformableProto","prototype","transform","needLocalTransform","updateTransform","parent","parentHasTransform","m","create","getLocalTransform","mul","copy","invTransform","invert","setTransform","ctx","dpr","restoreTransform","tmpTransform","decomposeTransform","sx","sy","Math","sqrt","atan2","getGlobalScale","transformCoordToLocal","x","y","v2","applyTransform","transformCoordToGlobal","target","rotate","_default","module","exports"],"sources":["C:/Users/W/Desktop/vue_map/node_modules/zrender/lib/mixin/Transformable.js"],"sourcesContent":["var matrix = require(\"../core/matrix\");\n\nvar vector = require(\"../core/vector\");\n\n/**\n * 提供变换扩展\n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function (opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * 平移\n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * 旋转\n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * 缩放\n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * 旋转和缩放的原点\n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * 判断是否需要有坐标变换\n * 如果有坐标变换, 则从position, rotation, scale以及父节点的transform计算出自身的transform矩阵\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // 应用父节点变换\n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // 保存这个变换矩阵\n\n\n  this.transform = m;\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * 将自己的transform应用到context上\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\n/**\n * 分解`transform`矩阵到`position`, `rotation`, `scale`\n */\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function () {\n  var m = this.transform;\n\n  if (!m) {\n    return [1, 1];\n  }\n\n  var sx = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  var sy = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  return [sx, sy];\n};\n/**\n * 变换坐标位置到 shape 的局部坐标空间\n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * 变换局部坐标位置到全局坐标空间\n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}